# Chapter 1. Computer Networks and the Internet

# 1.1 What is the Internet?

- 두 가지로 설명 가능
    1. 인터넷을 구성하는 기본 하드웨어와 소프트웨어 구성 요소 관점
    2. 네트워크가 구축되고 운영되는 서비스 인프라 관점

## 1.1.1 A Nuts-and-Bolts Description

- 전통적인 컴퓨터 네트워크에서 벗어나 TV, 시계, 안경, 게임기, 자동차 등등 많은 기기들이 인터넷에 접속되고 있음
- 2017년까지 180억대의 기기가 연결되었고, 2022년까지 285억대로 예상
- 이런 기기들을 호스트 또는 엔드 시스템이라고 칭함
- 커뮤니케이션 링크
    - 엔드 시스템들을 연결하는 물리적인 선, 무선 통신 경로
        - 동축 케이블(coaxial cable)
        - 구리선(copper wire)
        - 광섬유(optical fiber)
        - 무선 주파수(radio spectrum, 즉 무선 신호)
    - 전송 속도
        - bits/second
- 패킷 스위치
    - 패킷 스위치가 패킷을 커뮤니케이션 링크를 통해 목적지로 전송
    - 종류
        - routers
            - network core
            - ISP와 가정 내 네트워크 연결
        - link-layer switches
            - access network
            - 가정 내 여러 단말기를 유선으로 연결하거나 무선 AP(Access Point)역할
    - 데이터는 route, path를 통해 전송
- ISP, Internet Service Providers
    - 사용자에게 인터넷 접속 서비스를 제공하는 사업자, 엔드 시스템과 인터넷 코어를 연결
    - tier 1, 2, 3
    - 한국에서는 tier 1 isp 없음
    - sk, kt, lg tier 2
- 프로토콜
    - Internet is all about protocol.
        
        ![feature1-2.png](attachment:47e72d5f-9c16-41c1-b742-17f69ea4fc67:feature1-2.png)
        
    - TCP, Transmission Control Protocol
        - 전송에 관한 프로토콜
    - IP, Internet Protocol
        - 패킷 전달에 관한 프로토콜
    - Internet Standards
        - IETF, Internet Engineering Task Force에서 정의

## 1.1.2 A Services Description

- 서비스를 제공하는 인프라 관점
- Distributed Applications
    - 이메일, 웹 서핑, 스마트 폰 앱 등은 요즘 앱들은 여러 엔드 시스템에서 실행되면서 서로 데이터를 교환
        - 컴퓨터 ↔ 스마트폰 ↔ 테블릿
    - 어떻게 이게 가능할까?
        - socket interface
            - 엔드 시스템끼리 데이터를 주고 받기 위한 인터페이스, API?

# 1.2 The Network Edge

- 네트워크 엣지?
    - 네트워크의 말단, 최종 사용자가 직접 사용하는 장치나 로컬 네트워크
    - 엔드 시스템, 호스트
    - 인터넷을 사용하는 모든 디바이스
        - 컴퓨터, 스마트폰 등등
- 호스트
    - 애플리케이션을 실행하는 장치
    - 호스트 = 엔드 시스템
    - 클라이언트
        - 사용자 단말기
    - 서버
        - 웹 서버, 이메일 서버, 비디오 스트리밍 서버

## 1.2.1 Access Networks

- 엔드 시스템을 네트워크의 첫 번째 라우터와 연결하는 물리적 네트워크
- 홈 인터넷에서는 공유기

### Home Access: DSL, Cable, FTTH, and 5G Fixed Wireless

- ISP와 최종 사용자를 연결하는 기술
- DSL, digital subscriber line, 디지털 가입자 회선
    - 전화선을 이용한 인터넷 연결
- 케이블
    - 케이블 TV 회선
- FTTH, fiber to the home, 광랜
    - AON, active optical networks
    - PON, passive optical networks
- 5G fixed wireless
    - 무선 접속

### Access in the Enterprise (and the Home): Ethernet and WiFi

- ISP로부터 공급 받은 인터넷 신호를 여러 기기에 나누어 주는 기술
- LAN
    - 이더넷
    - 무선 LAN

### Wide-Area Wireless Access: 3G and LTE 4G and 5G

- 통신 기술

## 1.2.2 Physical Media

- Twisted-Pair Copper Wire
- Coaxial Cable
- Fiber Optics
- Terrestrial Radio Channels
- Satellite Radio Channels

# 1.3 The Network Core

> 모든 엔드 시스템을 서로 연결하기 위한 패킷 스위치와 링크가 얽혀 형성된 전송 구조
> 

## 1.3.1 Packet Switching

- 각 엔드 시스템은 서로 메세지를 통해 통신
    - 메세지를 작게 쪼개서 link과 packet switch를 통해 전송
        - packet switch
            - router
            - link-layer switch

### Store-and-Forward Transmission

![image.png](attachment:1652cf16-78f2-4155-a9d8-aeca8a213792:image.png)

- 라우터는 모든 패킷을 저장 후 포워딩

### Queuing Delays and Packet Loss

- output buffer, queue
    - 링크가 바쁠 때 패킷의 대기 공간
    - queueing delay
        - 가변적이고 네트워크 혼잡도에 따라 달라짐
    - packet loss
        - 버퍼 공간은 유한하고, 가득 찰 경우 발생
        - 막 도착한 패킷이 탈락하거나 버퍼에 있는 패킷 탈락
        - 링크 전송 속도의 차에 의해서도 발생
            
            ![image.png](attachment:a2d9d066-5fe3-4eef-aa76-3def3bb2a9ed:image.png)
            

### Forwarding Tables and Routing Protocols

- 라우터는 받은 패킷들을 어떻게 정확한 목적지도 전달할까?
    - 패킷 헤더에서 목적지 ip 주소 포함
    - 라우터는 forwarding table을 갖고 있음
        - 목적지 주소 일부(prefix)와 나아갈 방향이 들어있음

## 1.3.2 Circuit Switching

- packet switching와 함께 핵심적인 데이터 전송 방식
- packet switching과는 달리 통신 경로의 자원(버퍼, 링크 속도)이 세션이 지속되는 세션 전용으로 할당(예약)
- 전통의 전화 연결 방식
    
    ![figure1-13.png](attachment:c5c54feb-6333-43c1-984a-b6a4e188e2c8:figure1-13.png)
    
    - 패킷 교환 방식
        - 여러 네트워크 구간을 거쳐 목적지로 전송
        - 링크 자원 미리 확보하지 않음
        - 버퍼 대기
            - 전송 지연
            - 노력은 하지만 품질 보장 없음

### Multiplexing in Circuit-Switched Networks

- FDM, 주파수 분할 다중화
    - 하나의 통신 링크에서 주파수 대역을 나누어 여러 연결들이 링크 공유
        - 링크의 주파수 스펙트럼을 각 연결에 분할
    - 각 연결은 연결된 동안 일정한 주파수 대역을 전용으로 할당 받음
    - 각 연결이 사용하는 주파수 대역을 bandwidth, 대역폭이라고 함
    - FM 라디오 주파수 대역(88 MHz ~ 108MHz)를 여러 방송국이 나누어 특정 주파수 대역을 전용으로 할당 받는 방식
        - 라디오, 케이블 TV, 아날로그 전화망 등등
- TDM, 시간 분할 다중화
    - 시간을 나누어 단위 시간만큼 각 연결에 할당하는 방식
    - 시간을 프레임이라는 고정 길이 단위로 나뉨
        - 한 프레임은 고정된 수의 슬롯(time slot)으로 나뉨
    - 매 프레임마다 하나의 시간 슬롯을 해당 연결에 전용으로 할당
        - 매 프레임마다 할당된 특정 시간 슬롯은 해당 연결 데이터 전송 목적으로만 쓰임
        - 슬롯은 다른 연결과 공유하지 않음
    - 디지털 전화망, 2G GSM(핸드폰 음성 통화), 컴퓨터 네트워크 시리얼 통신(주변기기 연결, 네트워크 장비 관리)
    
    ![figure1-14.png](attachment:a417f83a-b289-4d3f-bf35-cc5ae302a2bc:figure1-14.png)
    
- 회선 교환의 단점
    - 자원 낭비
        - 예를 들어, 전화 연결이 되었는데 말을 하지 않고 있는 경우 회선이 낭비되고 있음
    - 복잡성
        - 전용 회로를 확보하는 과정이 복잡함

### Packet Switching Versus Circuit Switching

- 패킷 교환이 실시간 서비스에 부적합하다는 비판이 있지만 전송 링크의 효율적 분배와 구현 비용 측면에서 우수
- 1Mbps 링크를 여러 사용자가 공유 시,
    - 회선 교환은 100kbps씩 최대 10명까지 지원
    - 패킷 교환은 사용자 실제 데이터를 송수신하는 시간이 짧을 경우 10명 이상 동시 지원 가능
- 한 사용자가 대량 데이터를 전송할 경우,
    - 회선 교환은 할당된 자원만 사용 가능 → 속도가 느림
    - 패킷 교환은 대역폭 전체를 사용해 빠르게 전송 가능
- 현재 통신망은 점차 패킷 교환으로 전환 중

## 1.3.3 A Network of Networks

- 사용자가 인터넷에 접속하려면 액세스 ISP를 통해 연결
- 액세스 ISP는 DSL, 케이블, FTTH, Wi-Fi, 셀룰러 같은 유무선 기술을 통해 인터넷에 접속
    - 엑세스 ISP는 우리나라 기준 각 대형 통신사도 되지만, 대학이나 기업 같은 기관이 될 수 있음
- 액세스 ISP만으로는 모든 연결을 해결 할 수 없음
    - 액세스 ISP 자체가 서로 연결되어야 통신사를 넘어 기관을 넘어 원활한 접속이 가능
    - 그래서 네트워크의 네트워크 구조가 필요하고 이것이 인터넷의 본질임
- 네트워크 구조 1
    - 모든 액세스 ISP가 하나의 글로벌 ISP에 직접 연결
    - 단일 대형 통신사가 전세계 인터넷 망을 전담하는 개념
- 네트워크 구조 2
    - 여러 글로벌 ISP가 존재하고 액세스 ISP는 이 중 선택하여 연결하는 구조
- 네트워크 구조 3
    - 액세스 ISP → 지역 ISP → 티어1 ISP로 연결되는 다중 계층 구조
    - 한국의 지역 ISP(KT, LG, SK)가 티어-1 ISP에 연결
- 네트워크 구조 4
    - 기존 계층 구조에 PoP, 멀티호밍, 피어링, IXP 등이 추가된 복합적 구조
- 네트워크 구조 5
    - 기존 인터넷 구조 위에 대규모 콘텐츠 제공자(예: 구글)이 자체 네트워크를 구축하여 직접 연결하는 구조
    - 전 세계 구글 전용 데이터센터 운영
    - 각 나라에 IXP를 두어 비용, 성능 최적화
        - IXP : 인터넷 교환 지점
            - 여러 ISP가 모여 피어링하는 지점
